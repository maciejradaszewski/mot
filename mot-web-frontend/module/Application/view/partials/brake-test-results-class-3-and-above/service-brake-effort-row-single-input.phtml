<?php

use DvsaMotTest\Model\BrakeTestResultClass3AndAboveViewModel;

/**
 * @var \DvsaMotTest\Model\BrakeTestConfigurationClass3AndAboveHelper
 * @var \DvsaMotTest\Model\BrakeTestResultClass3AndAboveViewModel     $brakeTestResult
 * @var string                                                        $rowHeader
 * @var int                                                           $serviceBrakeNumber
 */
$idServiceBrakeEffortSingle = BrakeTestResultClass3AndAboveViewModel::ID_SERVICE_EFFORT_SINGLE;
$idServiceBrakeLockSingle = BrakeTestResultClass3AndAboveViewModel::ID_SERVICE_LOCK_SINGLE;

$valueServiceBrakeEffortSingle = $brakeTestResult->getServiceBrakeEffortSingle();
$valueServiceBrakeLockSingle = $brakeTestResult->getServiceBrakeLockSingle();

if ($serviceBrakeNumber === 2) {
    $idServiceBrakeEffortSingle = BrakeTestResultClass3AndAboveViewModel::ID_SERVICE_2_EFFORT_SINGLE;
    $idServiceBrakeLockSingle = BrakeTestResultClass3AndAboveViewModel::ID_SERVICE_2_LOCK_SINGLE;

    $valueServiceBrakeEffortSingle = $brakeTestResult->getServiceBrake2EffortSingle();
    $valueServiceBrakeLockSingle = $brakeTestResult->getServiceBrake2LockSingle();
}

?>
<tr>
    <th scope="row"><?php echo $this->escapeHtml($rowHeader); ?></th>
    <td>
        <?php echo $this->partial(
            'brakeTestInput',
            [
                'id' => $idServiceBrakeEffortSingle,
                'label' => 'Nearside axle 1',
                'value' => $valueServiceBrakeEffortSingle,
                'lockId' => $idServiceBrakeLockSingle,
                'hideLock' => !$brakeTestConfiguration->locksApplicableToFirstServiceBrake(),
                'lockValue' => $valueServiceBrakeLockSingle,
            ]
        ); ?>
    </td>
</tr>
